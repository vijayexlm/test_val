<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Surbhi ‚ù§Ô∏è</title>

<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#ffc0cb;
  overflow:hidden;
  font-family:Arial;
}

.card{
  background:white;
  padding:30px;
  border-radius:20px;
  text-align:center;
  position:relative;
}

button{
  padding:10px 20px;
  margin:10px;
  border:none;
  border-radius:25px;
  cursor:pointer;
}

#yes{background:hotpink;color:white;}
#no{position:absolute;background:#eee;}

/* photo animation */
.loveContainer{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:20px;
  margin-top:20px;
}

.photo{
  width:110px;
  height:110px;
  border-radius:50%;
  object-fit:cover;
  border:3px solid pink;
  opacity:0;
}

.left.move{
  animation:leftMove 1.8s forwards;
}
.right.move{
  animation:rightMove 1.8s forwards;
}

@keyframes leftMove{
  from{transform:translateX(-150px);opacity:0;}
  to{transform:translateX(0);opacity:1;}
}

@keyframes rightMove{
  from{transform:translateX(150px);opacity:0;}
  to{transform:translateX(0);opacity:1;}
}

.heart{
  font-size:40px;
  opacity:0;
  animation:heartPop 2s forwards;
}

@keyframes heartPop{
  0%{opacity:0;transform:scale(0);}
  60%{opacity:1;transform:scale(1.4);}
  100%{opacity:1;transform:scale(1);}
}
</style>
</head>

<body>

<audio id="music" loop>
  <source src="./romantic.mp3" type="audio/mp3">
</audio>

<div class="card" id="card">
  <h2>üíó Will you be my Valentine?</h2>
  <button id="yes">Yes üíï</button>
  <button id="no">No</button>
</div>

<script>
const noBtn=document.getElementById("no");
const yesBtn=document.getElementById("yes");
const card=document.getElementById("card");
const music=document.getElementById("music");

/* runaway no */
noBtn.addEventListener("mouseover",()=>{
  let x=(Math.random()*300)-150;
  let y=(Math.random()*200)-100;
  noBtn.style.transform=`translate(${x}px,${y}px)`;
});

/* YES CLICK */
yesBtn.onclick=()=>{

  music.play();

  card.innerHTML=`
    <h2>üíç Yay! She said YES üíï</h2>

    <div class="loveContainer">
      <img src="./you.jpg" class="photo left" id="p1">
      <div class="heart">‚ù§Ô∏è</div>
      <img src="./surbhi.jpg" class="photo right" id="p2">
    </div>

    <p id="msg"></p>
  `;

  // FORCE animation start (THIS IS THE REAL FIX)
  requestAnimationFrame(()=>{
    document.getElementById("p1").classList.add("move");
    document.getElementById("p2").classList.add("move");
  });

  // typewriter
  const text=`Congratulations Surbhi!

This moment just became a beautiful memory ‚ù§Ô∏è

You are my today, my tomorrow, and my forever.
I love you endlessly ‚ù§Ô∏è‚ù§Ô∏è`;

  let i=0;
  function type(){
    if(i<text.length){
      document.getElementById("msg").innerHTML+=text[i];
      i++;
      setTimeout(type,40);
    }
  }
  type();
};
</script>

</body>
</html>
